{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <title>JKSchool - Dashboard</title>
    <link rel="shortcut icon" href="{%static 'assets/img/favicon.png' %}" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&amp;display=swap"
    />
    <link
      rel="stylesheet"
      href="{%static 'assets/plugins/bootstrap/css/bootstrap.min.css' %}"
    />
    <link
      rel="stylesheet"
      href="{%static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}"
    />
    <link
      rel="stylesheet"
      href="{%static 'assets/plugins/fontawesome/css/all.min.css' %}"
    />
    <link rel="stylesheet" href="{%static 'assets/css/style.css' %}" />
  </head>
  <body>
    <div class="main-wrapper">
      <div class="header">
        <div class="header-left">
          <a href="{% url 'admin_dashboard' %}" class="logo">
            <img
              src="https://www.iitb.ac.in/newacadhome/logo.png"
              alt="Logo"
            />
          </a>
          <a href="{% url 'admin_dashboard' %}" class="logo logo-small">
            <img
              src="https://www.iitb.ac.in/newacadhome/logo.png"
              alt="Logo"
              width="30"
              height="30"
            />
          </a>
        </div>
        <a href="javascript:void(0);" id="toggle_btn">
          <i class="fas fa-align-left"></i>
        </a>
        <a class="mobile_btn" id="mobile_btn">
          <i class="fas fa-bars"></i>
        </a>
        <ul class="nav user-menu">
          <li class="nav-item dropdown noti-dropdown">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
              {% if unread_notification_count > 0 %}
              <i class="far fa-bell"></i>
              <span class="badge badge-pill"
                >{{unread_notification_count}}</span
              >
              {% endif %}
            </a>
            <div class="dropdown-menu notifications">
              <div class="topnav-photodropdown-header">
                <span class="notification-title">Notifications</span>
                <a href="javascript:void(0)" class="clear-noti"> Clear All </a>
              </div>
              <div class="noti-content">
                <ul class="notification-list">
                  {% for notification in unread_notification %}
                  <li class="notification-message">
                    <a href="#">
                      <div class="media">
                        <span class="avatar avatar-sm">
                          <img
                            class="avatar-img rounded-circle"
                            alt="User Image"
                            src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cmFuZG9tJTIwcGVyc29ufGVufDB8fDB8fHww"
                          />
                        </span>
                        <div class="media-body">
                          <p class="noti-details">
                            <span class="noti-title"
                              >{{ notification.user.username }}</span
                            >
                            {{ notification.message }}
                            <span class="noti-title">your estimate</span>
                          </p>
                          <p class="noti-time">
                            <span class="notification-time"
                              >{{ notification.created_at|timesince }} ago</span
                            >
                          </p>
                        </div>
                      </div>
                    </a>
                  </li>
                  {% endfor %}
                </ul>
              </div>
              <div class="topnav-dropdown-footer">
                <a href="#">View all Notifications</a>
              </div>
            </div>
          </li>
          {% comment %} <li class="nav-item dropdown has-arrow">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
              <span class="user-img"
                ><img
                  class="rounded-circle"
                  src="assets/img/profiles/avatar-01.jpg"
                  width="31"
                  alt="Ryan Taylor"
              /></span>
            </a>
            <div class="dropdown-menu">
              <div class="user-header">
                <div class="avatar avatar-sm">
                  <img
                    src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cmFuZG9tJTIwcGVyc29ufGVufDB8fDB8fHww"
                    alt="User Image"
                    class="avatar-img rounded-circle"
                  />
                </div>
                <div class="user-text">
                  <h6>{{user.username}}</h6>
                  <p class="text-muted mb-0">Administrator</p>
                </div>
              </div>
              <a class="dropdown-item" href="profile.html">My Profile</a>
              <a class="dropdown-item" href="inbox.html">Inbox</a>
              {% comment %} <a class="dropdown-item" href="{% url 'logout' %}">Logout</a> {% endcomment %}
            {% comment %} </div> {% endcomment %}
          {% comment %} </li>  {% endcomment %}
          <li class="nav-item dropdown has-arrow">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
              <span class="user-img">
                <img
                  class="rounded-circle"
                  src="{% static 'assets/img/profiles/avatar-01.jpg' %}"
                  width="31"
                  height="31"
                  alt="{{ user.username }}"
                />
              </span>
            </a>
          
            <div class="dropdown-menu dropdown-menu-right">
              <!-- User Header -->
              <div class="user-header d-flex align-items-center p-3 border-bottom">
                <div class="avatar avatar-sm mr-3">
                  <img
                    src="{% static 'assets/img/profiles/avatar-01.jpg' %}"
                    alt="User Image"
                    class="avatar-img rounded-circle"
                    width="45"
                    height="45"
                  />
                </div>
                <div class="user-text">
                  <h6 class="mb-0">{{ user.username }}</h6>
                  <p class="text-muted mb-0" style="font-size: 13px;">Administrator</p>
                </div>
              </div>
          
              <!-- Menu Items -->
              <a class="dropdown-item" href="profile.html">My Profile</a>
              <a class="dropdown-item" href="inbox.html">Inbox</a>
              <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
            </div>
          </li>
          
        </ul>
      </div>
      <div class="sidebar" id="sidebar">
        <div class="sidebar-inner slimscroll">
          <div id="sidebar-menu" class="sidebar-menu">
            <ul>
              <li class="menu-title">
                <span>Main Menu</span>
              </li>
              <li class="submenu active">
                <a href="#"
                  ><i class="fas fa-user-graduate"></i> <span> Dashboard</span>
                  <span class="menu-arrow"></span
                ></a>
                <ul>
                  {% comment %} <li>
                    <a href="{% url 'admin_dashboard' % }" class="active">Admin Dashboard</a>
                  </li> {% endcomment %}
                  <li><a href="{% url 'admin_dashboard' %}" class="active">Admin Dashboard</a></li>
                  {% comment %} <li>
                    <a href="teacher-dashboard.html">Teacher Dashboard</a>
                  </li>
                  <li>
                    <a href="student-dashboard.html">Student Dashboard</a>
                  </li> {% endcomment %}
                </ul>
              </li>
              <li class="submenu">
                <a href="#"
                  ><i class="fas fa-user-graduate"></i> <span> Students</span>
                  <span class="menu-arrow"></span
                ></a>
                <ul>
                  <li><a href="{% url 'student_list' %}">Student List</a></li>
                  <li><a href="{% url 'add_student' %}">Student Add</a></li>
                  
                </ul>
              </li>
              <li class="submenu">
                <a href="#"
                  ><i class="fas fa-chalkboard-teacher"></i>
                  <span> Teachers</span> <span class="menu-arrow"></span
                ></a>
                <ul>
                  <li><a href="{% url 'teacher_list' %}">Teacher List</a></li>
                  <li><a href="{% url 'add_teacher' %}">Teacher Add</a></li>
                </ul>
              </li>
              <li class="submenu">
                <a href="#"
                  ><i class="fas fa-building"></i> <span> Departments</span>
                  <span class="menu-arrow"></span
                ></a>
                <ul>
                  <li><a href="{% url 'department_list' %}">Department List</a></li>
                  <li><a href="{% url 'add_department' %}">Department Add</a></li>
                </ul>
              </li>
              <li class="submenu">
                <a href="#"
                  ><i class="fas fa-book-reader"></i> <span> Subjects</span>
                  <span class="menu-arrow"></span
                ></a>
                <ul>
                  <li><a href="{% url "subjects_list" %}">Subject List</a></li>
                  <li><a href="{% url "add_subject" %}">Subject Add</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>

      {% block body %} {% endblock %}
    </div>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function () {
        // Select the notification dropdown element
        const notiDropdown = document.querySelector(".noti-dropdown");
        const clearAllBtn = document.querySelector(".clear-noti");
      });
    </script>
  </body>
</html>
